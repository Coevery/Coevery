@using Coevery.Projections.Descriptors
@using Coevery.Projections.Descriptors.Layout
@using Coevery.Projections.ViewModels
@model EntityViewListModel

@helper AddLayoutButton(LayoutDescriptor type) {
    <li>
        <label data-ng-click="add('@type.Category','@type.Type')">
            <i class="icon-plus"></i>&nbsp;@T("Add {0} Grid Layout", type.Type)
        </label>
    </li>
}

<div class="btn-toolbar">
    <div class="btn-group">
        <button class="btn btn-small btn-success dropdown-toggle" data-toggle="dropdown"
                data-ng-disabled="isPublished=='False'" title="@T("Works when the entity has been published.")">
            <i class="icon-plus"></i>&nbsp;Add <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
            @foreach (var layoutType in Model.Layouts) {
                @AddLayoutButton(layoutType)
            }
        </ul>
    </div>
    <button class="btn btn-small" data-ng-click="getAll()"
            data-ng-disabled="isPublished=='False'" title="@T("Works when the entity has been published.")">
        <i class="icon-refresh"></i>&nbsp;Refresh
    </button>
    <div class="btn-group" data-ng-show="selectedItems.length > 0">
        <button class="btn btn-small" data-ng-click="edit(selectedItems[0])" data-ng-disabled="selectedItems.length > 1">
            <i class="icon-edit"></i>&nbsp;Edit
        </button>
        <button class="btn btn-small" data-co-delete-button="" data-confirm-message="You really want to delete this view?" data-delete-action="delete()">
            <i class="icon-remove"></i>&nbsp;Delete
        </button>
        <button class="btn btn-small" data-ng-click="setDefault(selectedItems[0])" data-ng-disabled="selectedItems.length > 1">
            Default
        </button>
    </div>
</div>

<div class="row-fluid" data-ag-grid="gridOptions" data-ag-grid-name="viewList"></div>

